<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pomodoro</title>
  <link rel="stylesheet" href="variables.css">
  <link rel="stylesheet" href="pomodoro.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script>
  const root = document.documentElement;
  const saved = localStorage.getItem('theme');
  if (saved) {
    root.classList.toggle('light', saved === 'light');
  } else if (window.matchMedia('(prefers-color-scheme: light)').matches) {
    root.classList.add('light');
  }
</script>
</head>
<body>
  <button class="menu-toggle" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i>
  </button>

  <div class="sidebar">
    <a href="index.html"><i class="fas fa-home"></i> Home</a>
    <a href="index.html#services"><i class="fas fa-clipboard-list"></i> Services</a>
    <a href="todo.html"><i class="fas fa-check-circle"></i> To-Do List</a>
    <a href="gratitude.html"><i class="fas fa-heart"></i> Gratitude</a>
    <a href="pomodoro.html"><i class="fas fa-clock"></i> Pomodoro</a>
  </div>

  <div class="content">
    <div id="circle"></div>
    <div id="time">25:00</div>

    <div id="controls">
      <button id="start">Start</button>
      <button id="pause" class="hidden">Pause</button>
      <button id="continue" class="hidden">Continue</button>
      <button id="reset">Reset</button>
    </div>

    <div id="pomodoro-count">Pomodoros completed: 0</div>

    <div id="custom-settings">
      <h3>Customize Timer (minutes)</h3>
      <label>Work: <input type="number" id="custom-work" value="25" min="1"></label>
      <label>Short Break: <input type="number" id="custom-short-break" value="5" min="1"></label>
      <label>Long Break: <input type="number" id="custom-long-break" value="15" min="1"></label>
      <button onclick="applyCustomTimes()">Apply</button>
    </div>

    <div id="alarm-popup" class="hidden">
      <div class="popup-card">
        <p id="alarm-message">Your timer just finished! Time for a break</p>
        <button onclick="closeAlarmPopup()">OK</button>
      </div>
    </div>

    <div id="openInBrowserPopup" class="popup hidden">
      <div class="popup-content">
        <p>This app works best in your browser!<br><br>
        Tap the <strong>three dots â‹®</strong> at the top right and choose<br>
        <strong>"Open in browser"</strong> for sound support and better performance.</p>
        <button id="dismissPopupBtn">Got it</button>
      </div>
    </div>

    <audio id="focus-music" loop>
    <source src="sounds/background music.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
    </audio>
    
  </div>

  <script src="pomodoro.js"></script>
</body>
</html>